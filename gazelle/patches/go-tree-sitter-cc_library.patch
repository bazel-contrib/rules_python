diff --git a/BUILD.bazel b/BUILD.bazel
index 37704d1..b6d17a8 100755
--- a/BUILD.bazel
+++ b/BUILD.bazel
@@ -1,5 +1,12 @@
 load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
 
+cc_library(
+    name = "clib",
+    hdrs = glob(["src/**/*.h", "src/**/*.c", "include/**/*.h"]),
+    includes = ["include", "src"],
+    visibility  = ["//:__subpackages__"],
+)
+
 go_library(
     name = "go-tree-sitter",
     srcs = [
@@ -22,6 +30,7 @@ go_library(
         "tree_sitter.go",
     ],
     cgo = True,
+    cdeps = ["//:clib"],
     copts = ["-Iinclude -Isrc -std=c11 -D_POSIX_C_SOURCE=200112L -D_DEFAULT_SOURCE"],
     importpath = "github.com/tree-sitter/go-tree-sitter",
     visibility = ["//visibility:public"],
