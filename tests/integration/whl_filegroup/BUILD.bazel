load("@rules_cc//cc:defs.bzl", "cc_library", "cc_test")
load("@rules_python//python:pip.bzl", "whl_filegroup")

whl_filegroup(
    name = "numpy_includes",
    pattern = "numpy/core/include/numpy",
    whl = "@pypi//numpy:whl",
)

cc_library(
    name = "numpy_headers",
    hdrs = [":numpy_includes"],
    includes = ["numpy_includes/numpy/core/include"],
    deps = ["@rules_python//python/cc:current_py_cc_headers"],
)

cc_test(
    name = "test_using_numpy_headers",
    srcs = ["test_using_numpy_headers.c"],
    deps = [":numpy_headers"],
)
